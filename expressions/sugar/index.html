<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sugar - Pony Tutorial</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../css/theme_extra.css" rel="stylesheet">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Pony Tutorial</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
        <span>Installation</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../installation/mac-osx">Mac OSX</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../installation/linux">Linux</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../installation/windows">Windows</a>
                    
                </li>
            
        

    
        
        <span>Getting started</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../getting-started/what-you-need-to-start">What you need to start</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../getting-started/helloworld">Helloworld</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../getting-started/how-it-works">How it works</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../getting-started/whitespace">Whitespace</a>
                    
                </li>
            
        

    
        
        <span>Types</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../types/static-vs-dynamic">Static vs dynamic</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../types/classes">Classes</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../types/primitives">Primitives</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../types/actors">Actors</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../types/traits-and-interfaces">Traits and interfaces</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../types/type-aliases">Type aliases</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../types/type-expressions">Type expressions</a>
                    
                </li>
            
        

    
        
        <span>Capabilities</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../capabilities/type-qualifiers">Type qualifiers</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../capabilities/guarantees">Guarantees</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../capabilities/aliasing">Aliasing</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../capabilities/passing-and-sharing">Passing and sharing</a>
                    
                </li>
            
        

    
        
        <span>Expressions</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../variables">Variables</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../infix-ops">Infix ops</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../control-structures">Control structures</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../methods">Methods</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../exceptions">Exceptions</a>
                    
                </li>
            
                <li class="toctree-l1 current">
                    <a class="current" href=".">Sugar</a>
                    
                        <ul>
                        
                            <li class="toctree-l2"><a href="#apply">Apply</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#create">Create</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#combined-create-apply">Combined create-apply</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#update">Update</a></li>
                            
                        
                        </ul>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../object-literals">Object literals</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../partial-application">Partial application</a>
                    
                </li>
            
        

    
        
        <span>Actors</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../actors/behaviours">Behaviours</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../actors/capabilities">Capabilities</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../actors/recover-and-consume">recover and consume</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../actors/arrow-types">Arrow types</a>
                    
                </li>
            
        

    
        
        <span>Packages</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../packages/package-system">Package system</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../packages/builtin">Builtin</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../packages/use-statement">Using a package</a>
                    
                </li>
            
        

    
        
        <span>Composition vs. inheritance</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../composition-inheritance/code-sharing">Code sharing</a>
                    
                </li>
            
        

    
        
        <span>Generics</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../generics/polymorphic-types">Polymorphic types</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../generics/polymorphic-methods">Polymorphic methods</a>
                    
                </li>
            
        

    
        
        <span>Pattern matching</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../pattern-matching/match">match-expression</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../pattern-matching/as">as-expression</a>
                    
                </li>
            
        

    
        
        <span>Platform</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../platform/platform">Platform</a>
                    
                </li>
            
        

    
        
        <span>Editor support</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../editor-plugins/plugins">Plugins</a>
                    
                </li>
            
        

    
        
        <span>Compiler options</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../compiler-clargs/clargs">Overview</a>
                    
                </li>
            
        

    
        
        <span>Patterns</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../patterns/patterns">Patterns</a>
                    
                </li>
            
        

    
        
        <span>Garbage collection</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../garbage-collection/garbage-collection">Garbage collection</a>
                    
                </li>
            
        

    
        
        <span>C-FFI</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../c-ffi/calling-c">Calling C programs</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../c-ffi/linking-c">Linking to C libraries</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../c-ffi/c-abi">Exposing a C-ABI</a>
                    
                </li>
            
        

    
        
        <span>Examples</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../examples/examples">Examples</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="../.."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    <li>Sugar</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <p>Pony allows you to omit certain small details from your code and will put them back in for you. This is done to help make your code less cluttered and more readable. Using sugar is entirely optional, you can always write out the full version if you prefer.</p>
<h1 id="apply">Apply</h1>
<p>Many Pony classes have a function called <code>apply</code> which performs whatever action is most common for that type. Pony allows you to omit the word <code>apply</code> and just attempt to do a call directly on the object. So:</p>
<pre><code>var foo = Foo.create()
foo()
</code></pre>

<p>becomes:</p>
<pre><code>var foo = Foo.create()
foo.apply()
</code></pre>

<p>Any required arguments can be added just like normal method calls.</p>
<pre><code>var foo = Foo.create()
foo(x, 37 where crash = false)
</code></pre>

<p>becomes:</p>
<pre><code>var foo = Foo.create()
foo.apply(x, 37 where crash = false)
</code></pre>

<p><strong>Do I still need to provide the arguments to apply?</strong> Yes, only the <code>apply</code> will be added for you, the correct number and type of arguments must be supplied. Default and named arguments can be used as normal.</p>
<p><strong>How do I call a function foo if apply is added?</strong> The <code>apply</code> sugar is only added when calling an object, not when calling a method. The compiler can tell the difference and only adds the <code>apply</code> when appropriate.</p>
<h1 id="create">Create</h1>
<p>To create an object you need to specify the type and call a constructor. Pony allows you to miss out the constructor and will insert a call to <code>create()</code> for you. So:</p>
<pre><code>var foo = Foo
</code></pre>

<p>becomes:</p>
<pre><code>var foo = Foo.create()
</code></pre>

<p>Normally types are not valid things to appear in expressions, so omitting the constructor call is not ambiguous. Remember that you can easily spot that a name is a type because it will start with a capital letter.</p>
<p>If arguments are needed for create these can be provided as if calling the type. Default and named arguments can be used as normal.</p>
<pre><code>var foo = Foo(x, 37 where crash = false)
</code></pre>

<p>becomes:</p>
<pre><code>var foo = Foo.create(x, 37 where crash = false)
</code></pre>

<p><strong>What if I want to use a constructor that isn't named create?</strong> Then the sugar can't help you and you have to write it out yourself.</p>
<p><strong>If the create I want to call takes no arguments can I still put in the parentheses?</strong> No. Calls of the form <code>Type()</code> use the combined create-apply sugar (see below). To get <code>Type.create()</code> just use <code>Type</code>.</p>
<h1 id="combined-create-apply">Combined create-apply</h1>
<p>If a type has a create constructor that takes no arguments then the create and apply sugar can be used together. Just call on the type and calls to create and apply will be added. The call to create will take no arguments and the call to apply will take whatever arguments are supplied.</p>
<pre><code>var foo = Foo()
var bar = Bar(x, 37 where crash = false)
</code></pre>

<p>becomes:</p>
<pre><code>var foo = Foo.create().apply()
var bar = Bar.create().apply(x, 37 where crash = false)
</code></pre>

<p><strong>What if the create has default arguments? Does I get the combined create-apply sugar if I want to use the defaults?</strong> The combined create-apply sugar can only be used when the create constructor has no arguments. If there are default arguments then this sugar cannot be used.</p>
<h1 id="update">Update</h1>
<p>The <code>update</code> sugar allows any class to use an assignment to accept data. Many languages allow this for assigning into collections, for example a simple C array, <code>a[3] = x;</code>.</p>
<p>In any assignment where the left hand side is a function call, Pony will translate this to a call to update, with the value from the right hand side as an extra argument. So:</p>
<pre><code>foo(37) = x
</code></pre>

<p>becomes:</p>
<pre><code>foo.update(37 where value = x)
</code></pre>

<p>The value from the right hand side of the assignment is always passed to a parameter named <code>value</code>. Any object can allow this syntax simply by providing an appropriate function <code>update</code> with an argument <code>value</code>.</p>
<p><strong>Does my update function have to have a single parameter that takes an integer?</strong> No, you can define update to take whatever parameters you like, as long as there is one called <code>value</code>. The following are all fine:</p>
<pre><code>foo1(2, 3) = x
foo2() = x
foo3(37, &quot;Hello&quot;, 3.5 where a = 2, b = 3) = x
</code></pre>

<p><strong>Does it matter where <code>value</code> appears in my parameter list?</strong> Whilst it doesn't strictly matter it is good practice to put <code>value</code> as the last parameter. That way all of the others can be specified by position.</p>

            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../object-literals" class="btn btn-neutral float-right" title="Object literals"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../exceptions" class="btn btn-neutral" title="Exceptions"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
      <span><a href="../exceptions" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../object-literals" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>